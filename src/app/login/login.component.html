<div class="container">
  <div class="row justify-content-center">
    <div class="col">
      <div class="card">
        <div class="card-body">
          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7ElEQVR4nO1aXYhbVRA+bf1h/atWpazETebcqHVVkBZERF1Qa11RtPUPf1BffBL0RXzxIQh2N5lzs9tV0VZ9KPgiKwoqWqUU8UWLKP5V27Xqsmlm7m4rW/8e1N02Mne3mJx7kzS5N7la+sF5y8yd78zPmXMmSh3HMQqdn12uDQ9qQ89ow9sB6RuNxGD4L224og3PakOT2vAHgLwJDN95oUvnqP8C1mypnKgNbwBD27ShQ4sGt7DoECDt0IYfShVLPckQcOlxbchr3fg6C2laIz3Zm6NTukICXFoLSN/GRiDopUkw5Vs7RmAgVzlBYruJIV+A4WedQvkebbxL+0b29/bndp0k8unRyTPTLq1yXLpdGx7WSJ9qpMP1PcQvxx5usGl6pUb6qM4O/gLIY2J4q3qzOOMsFofZehvTN7K/NxYSoggM/RAS0/OA9OKqofLZUb+RHfv5DI08VFXhqr/zk1MsZSN9QIz0y6ilXIg5BVqtYkY6zxdrw1+FkTm/MHVeW0oltjXSzgAJpPf6hqfOUh1CqljqAcOvhYVZWzkDyPmQnXldjVeWqU4jV1kKhjaHkHmpJT2ZAg8EDjjk949UoK4gJ2SCnoGCd0srZXavXdslIVWXkSqWejTS13a+HFWIafQeDlSnAl2jEoKT9y6xq1kG+Yl2vPGCShhaDtBam7yGXgEs31BbofjPbH5fKqohgPwAIP0KSDMaaX1bnTXywWrbHOQH6wpkkG60Evy5OJK22ggwNCctTKtqNPJGK/G3N/woIG8BQ79Ja35R4cDpEWkoVaksAeQD1oHaMhmnWMrW9GZI86liaYXqJhbvLHNRyQDyZ5ZXNqhuQ4yOSgYMF2rleVQlgahkNNJ6S3abSgpRyGQN99vNayhbQC43uTh1bPlkkG5rREQuZ1ZVPVj7i0pliX9nTohEdSukGmG8ssyuXGK7TYSTJgJhodKAiHixloiEVoFvDrYn3STh91ODLYWW4VmVFKS1sK8IQqJZfgjkXaBGDnmvSgLyENcuCQEg32GF4rvq/0ZCoJHc2qpFruomMsa7OyoJgUb+slpHfXmpCoZeBaS//Xes/OxyFQPs0t4OibRLq6ywmpPkD/2xg3yT9ePNcRDx7yERSAgACY+6PdHGu87eufSwl1ERIYZrw1NSZTIurWtVPlUsrZCrhZUf99WX8EOL99QK8CsqYWikEWuD92XHvj+5oRC4dL/F/LBcgVVCSGP5crvJ1IYeay65kPDf2TvQydfFeuh/fuY0jbzbipCJpt44gnRx+spAq430YVenSuPSV/FbgehwaW1LegDp6WBPRO/ItEp1GAP+sxRtDfRjyGNtKQubiYhnshv53I4wUErJg0fAEwve+KTtJ1s5EMHw5yE7U3Lc8lVxk3AKtFpyIEiCJyJvniiwk//fakZb45goyZjan3ohzYe0+HsyhtMqDsiBJK/xoXcJpD9k3gd574pW9eri9GXyEgJIv9e5o3wc/yx+oYoMNRlgTsgBKg/hQuyCkWktMb/SeKfKHNJxeY126V4ZmIZ62VR52/BoR8cY2qWrw/ImtoW8W7vl61VXkKsszSA9sviXjLhITAF6j3Z1mFRDyKV1gPRG6ES2yfJlkN8G9O5KhkAI5NTPGL4WkJ/yzwGknYD0o9+1SkEw5IGhXWD4TT/XDA9KCxKm6zjUMYB/AEzP30ArFRCuAAAAAElFTkSuQmCC" class="rounded mx-auto d-block">
          <h2 class="text-center mb-4">Login</h2>

          <form [formGroup]="loginForm" (ngSubmit)="ProceedLogin(loginForm, rememberMe.checked)">
            <div class="form-group">
              <label for="txtname">Username Or Email</label>
              <input type="text" id="txtname" class="form-control" formControlName="username" placeholder="Enter your username" autocomplete="off">
              <div *ngIf="loginForm.controls['username'].invalid && (loginForm.controls['username'].dirty || loginForm.controls['username'].touched)">
                <div *ngIf="loginForm.controls['username'].errors?.['required']" class="text-danger">Username is required.</div>
                <div *ngIf="loginForm.controls['username'].errors?.['minlength']" class="text-danger">Username should be at least 8 characters long.</div>
              </div>
            </div>

            <div class="form-group">
              <label for="txtpassword">Password</label>
              <div class="password-input">
                <input [attr.type]="showPassword ? 'text' : 'password'" id="txtpassword" class="form-control" formControlName="password" placeholder="Enter your password" autocomplete="off">
                <div class="eye-icon" (click)="togglePasswordVisibility()">
                  <i class="fa" [class.fa-eye]="showPassword" [class.fa-eye-slash]="!showPassword"></i>
                </div>
              </div>
              <div *ngIf="loginForm.controls['password'].invalid && (loginForm.controls['password'].dirty || loginForm.controls['password'].touched)">
                <div *ngIf="loginForm.controls['password'].errors?.['required']" class="text-danger">Password is required.</div>
              </div>
            </div>
            

            <div class="form-group form-check">
              <input type="checkbox" class="form-check-input" id="rememberMe" #rememberMe>
              <label class="form-check-label" for="rememberMe">Remember me</label>
            </div>

            <div class="row">
              <div class="col text-center">
                <button type="submit" class="btn btn-primary btn-lg btn-block w-100" [disabled]="!loginForm.valid || isLoading">
                  <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  <span *ngIf="!isLoading">Login</span>
                </button>
              </div>
            </div>            
          </form>
          <!-- <input type="password" [(ngModel)]="password">
            <button (click)="decodePassword()">Decode Password</button>
            <p>Encoded Password: {{ encodedPassword }}</p> -->

          <div class="row mt-3">
            <div class="col text-center">
              <button type="button" class="btn btn-link" [routerLink]="'/forgetpassword'">Forgot Password?</button>
            </div>
            <div class="col text-center">
              <button type="button" class="btn btn-link" [routerLink]="'/register'">Create new account</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
